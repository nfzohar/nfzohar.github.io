<!DOCTYPE html>
<html>

<head>
    <title>Word Guesser</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* WORDLE MAIN TAGS. */
        
        html {
            font-family: arial;
        }
        
        header {
            text-align: center;
        }
        
        body {
            font-size: 160%;
            width: 99%;
        }
        
        main {
            margin-top: 1%;
            margin-bottom: 2%;
        }
        
        footer {
            text-align: center;
        }
        /* IDs. */
        
        #word_logo {
            font-size: 400%;
            color: rgb(0, 103, 0);
        }
        
        #word_guess_try,
        #word_guess_next,
        #word_guess_rules {
            display: inline;
            background-color: rgb(0, 103, 0);
            color: rgb(255, 255, 255);
            border-radius: 10%;
            margin: 1%;
        }
        
        #word_guess_try {
            font-size: 230%;
            display: none;
        }
        
        #word_guess_next {
            margin-left: 2%;
            font-size: 90%;
        }
        
        #word_guess_rules {
            margin: 0%;
            font-size: 100%;
        }
        
        #word_results,
        #word_guess_input {
            width: 40%;
            margin-left: 37.8%;
        }
        
        #word_guess_input {
            display: inline;
        }
        
        #main_text_output {
            font-size: 120%;
            color: rgb(0, 0, 0);
        }
        
        #rules_section {
            display: none;
            text-align: center;
        }
        
        #guess_game_over {
            display: none;
        }
        
        #guess_game_the_word_was,
        #guess_game_over_label {
            margin-bottom: 1%;
            display: block;
        }
        
        #guess_game_over_label {
            font-size: 140%;
            color: rgb(0, 103, 0);
            color: rgb(255, 0, 0);
        }
        /* CLASSes. */
        
        .word_guess_word,
        .word_guess_word_past {
            width: 4%;
            font-size: 250%;
            margin-top: 1%;
            border-radius: 10%;
            text-align: center;
            border: 4px solid rgb(96, 96, 96);
            text-transform: uppercase;
        }
        
        .word_guess_word_past {
            margin-right: 0.9%;
            width: 10%;
        }
        /* CLASS sets for letter cases. */
        
        .correct_letter_right_slot {
            color: rgb(255, 255, 255);
            background-color: rgb(50, 127, 50);
        }
        
        .correct_letter_wrong_slot {
            color: rgb(255, 255, 255);
            background-color: rgb(207, 180, 0);
        }
        
        .wrong_letter {
            color: rgb(255, 255, 255);
            background-color: rgb(159, 159, 159);
        }
        /* View on square screen. */
        
        @media only screen and (max-width: 1400px) {
            /* tag CSS */
            body {
                width: 95%;
                margin-left: 2.5%;
                text-align: center;
            }
            main {
                width: auto;
            }
            /* IDs */
            #word_logo {
                font-size: 400%;
                color: rgb(0, 103, 0);
            }
            #word_results,
            #word_guess_input {
                width: 100%;
                margin: 0px;
            }
            /* CLASSes. */
            .word_guess_word,
            .word_guess_word_past {
                width: 100px;
                height: 100px;
                font-size: 260%;
                margin-bottom: 1%;
                border-radius: 10%;
                text-align: center;
                border: 4px solid rgb(106, 106, 106);
            }
            .word_guess_word_past {
                margin-left: 0.4%;
            }
        }
        /* View on mobile. */
        
        @media only screen and (max-width: 360px) {
            /* tag CSS */
            body {
                font-size: 100%;
                width: 100%;
                margin-left: 0px;
                margin-right: 0px;
            }
            /* IDs */
            #word_logo {
                font-size: 280%;
                color: rgb(0, 103, 0);
            }
            #word_results,
            #word_guess_input {
                width: 100%;
                margin: 0px;
            }
            #guess_game_over_label,
            #guess_game_the_word_was,
            #word_guess_rules {
                font-size: 150%;
            }
            /* CLASSes. */
            .word_guess_word,
            .word_guess_word_past {
                width: 55px;
                height: 55px;
                font-size: 250%;
                margin-bottom: 1%;
                border-radius: 10%;
                text-align: center;
                border: 4px solid rgb(106, 106, 106);
            }
            .word_guess_word_past {
                margin-left: 0.2%;
            }
        }
    </style>
    <script type="text/javascript">
        var try_number = 1;
        var selected_word = chooseRandomWord();

        // Main function.
        function checkTheWord() {

            if (noBlankFields()) {
                if (noNumbersInFields()) {
                    checkGuessWord();
                } else {
                    showError('numbers');
                }
            } else {
                showError('empty_slots');
            }
        }

        // Check if the word matches the selected word.
        function checkGuessWord() {
            if (try_number <= 6) {

                if (fullGuessWord() === selected_word.toUpperCase()) {
                    document.getElementById('guess_game_over').style.display = 'block';
                    document.getElementById('guess_game_over_label').innerText = 'CONGRATULATIONS, YOU WIN';
                    document.getElementById('guess_game_the_word_was').innerText = 'THE WORD WAS: ' + selected_word;
                } else {
                    if (try_number < 6) {
                        let innerContent = '<div>' +
                            checkLetter('field_1', 0) +
                            checkLetter('field_2', 1) +
                            checkLetter('field_3', 2) +
                            checkLetter('field_4', 3) +
                            checkLetter('field_5', 4) +
                            '</div>';

                        clearTheLetterSlots();
                        document.getElementById('word_results').innerHTML += innerContent;
                        try_number++;
                    } else {
                        showError('no_cheating');
                    }
                }
            } else {
                document.getElementById('guess_game_over').style.display = 'block';
                document.getElementById('guess_game_over_label').innerText = 'SORRY, YOU LOSE';
                document.getElementById('guess_game_the_word_was').innerText = 'THE WORD WAS: ' + selected_word;
                s
            }
        }

        // Check if the letter is in the word.
        function checkLetter(fieldId, letterPlace) {
            let letter = document.getElementById(fieldId).value.toUpperCase();
            let wordToArray = [];
            let element = '<input class="word_guess_word_past ';

            for (let i = 0; i < selected_word.length; i++) {
                wordToArray[i] = selected_word.charAt(i).toUpperCase();
            }

            if (wordToArray[letterPlace] === letter) {
                element += 'correct_letter_right_slot"';
            } else if (wordToArray.includes(letter)) {
                element += 'correct_letter_wrong_slot"';
            } else {
                element += 'wrong_letter"';
            }
            element += ' type="text" disabled="true" value="' + letter + '">';

            return element;
        }

        // Select the word to guess.
        function chooseRandomWord() {
            // showError('word_not_on_list');
            let word = "tests";
            return word.toUpperCase();
        }

        // Display the rules.
        function displayRules() {
            if (document.getElementById('rules_section').style.display == 'none') {
                document.getElementById('rules_section').style.display = 'block';
            } else {
                document.getElementById('rules_section').style.display = 'none';
            }
        }

        // Blank fields check.
        function noBlankFields() {
            let resultBool = false;

            if (document.getElementById('field_1').value != '' &&
                document.getElementById('field_2').value != '' &&
                document.getElementById('field_3').value != '' &&
                document.getElementById('field_4').value != '' &&
                document.getElementById('field_5').value != '') {
                resultBool = true;
            }

            if (document.getElementById("field_1").value === ' ' ||
                document.getElementById("field_2").value === ' ' ||
                document.getElementById("field_3").value === ' ' ||
                document.getElementById("field_4").value === ' ' ||
                document.getElementById("field_5").value === ' ') {
                resultBool = false;
            }

            return resultBool;
        }

        // Numbers in fields check.
        function noNumbersInFields() {
            let resultBool = true;
            let numbers = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];

            for (let i = 0; i < 10; i++) {
                if (numbers.includes(document.getElementById('field_1').value) ||
                    numbers.includes(document.getElementById('field_2').value) ||
                    numbers.includes(document.getElementById('field_3').value) ||
                    numbers.includes(document.getElementById('field_4').value) ||
                    numbers.includes(document.getElementById('field_5').value)) {
                    resultBool = false;
                }
            }

            return resultBool;
        }

        // Display different errors.
        function showError(errorType) {
            let error_message;

            if (errorType === 'empty_slots') {
                error_message = "FILL IN ALL SLOTS, DON'T USE SPACES! ";
            } else if (errorType === 'numbers') {
                error_message = "DON'T USE NUMBERS!";
            } else if (errorType === 'word_not_on_list') {
                error_message = "WORD IS NOT ON THE LIST!";
            } else if (errorType === 'no_cheating') {
                error_message = "THIS GAME IS DONE, TRY AGAIN!";
            }

            document.getElementById('main_text_output').innerHTML = '<b style="color: red;">' + error_message + '</b>';
            setTimeout(function() {
                document.getElementById('main_text_output').innerText = 'GUESS THE WORD IN 6 TRIES OR LESS';
            }, 1000);
        }

        // Shortcut the try (>) button to Enter key. 
        function runTryOnEnter() {
            let letterField = document.getElementById("word_guess_input");

            letterField.addEventListener("keypress", function(event) {
                if (event.key === "Enter") {
                    document.getElementById("word_guess_try").click();
                }
            });
        }

        // Switch to the next input field on letter key press.
        function nextInput(targetId) {
            let letterField = document.getElementById("word_guess_input");
            let lettersArrayLowerCase = ['q', 'w', 'e', 'r', 't', 'z', 'u', 'i', 'o', 'p', 'a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l', 'y', 'x', 'c', 'v', 'b', 'n', 'm']
            let lettersArrayCapitalCase = ['Q', 'W', 'E', 'R', 'T', 'Z', 'U', 'I', 'O', 'P', 'A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L', 'Y', 'X', 'C', 'V', 'B', 'N', 'M']

            letterField.addEventListener("keyup", function(event) {
                if (lettersArrayLowerCase.includes(event.key) || lettersArrayCapitalCase.includes(event.key)) {
                    document.getElementById(targetId).focus();
                }
            });
        }

        // Start a new game.
        function startNewGame() {
            try_number = 1;
            selected_word = chooseRandomWord();
            location.reload();
        }

        // Clear the letter slots.
        function clearTheLetterSlots() {
            document.getElementById("field_1").value = '';
            document.getElementById("field_2").value = '';
            document.getElementById("field_3").value = '';
            document.getElementById("field_4").value = '';
            document.getElementById("field_5").value = '';

            document.getElementById("field_1").focus();
        }

        // Put the word together.
        function fullGuessWord() {
            let fullWord = document.getElementById("field_1").value +
                document.getElementById("field_2").value +
                document.getElementById("field_3").value +
                document.getElementById("field_4").value +
                document.getElementById("field_5").value;

            return fullWord.toUpperCase();
        }
    </script>
</head>

<body onload="runTryOnEnter()">
    <header>
        <b id="word_logo" onclick="location.reload()">WORD GUESSER</b>
        <br>
        <b id="main_text_output">GUESS THE WORD IN 6 TRIES OR LESS</b>
        <hr>
        <div id="guess_game_over">
            <b id="guess_game_over_label"></b>
            <b id="guess_game_the_word_was"></b>
            <button id="word_guess_rules" onclick="startNewGame()">NEW GAME</button>
            <hr>
        </div>
    </header>

    <main onload="startNewGame()">
        <div id="word_guess_input">
            <input class="word_guess_word" id="field_1" type="text" maxlength="1" onkeyup="nextInput('field_2')" autofocus>
            <input class="word_guess_word" id="field_2" type="text" maxlength="1" onkeyup="nextInput('field_3')">
            <input class="word_guess_word" id="field_3" type="text" maxlength="1" onkeyup="nextInput('field_4')">
            <input class="word_guess_word" id="field_4" type="text" maxlength="1" onkeyup="nextInput('field_5')">
            <input class="word_guess_word" id="field_5" type="text" maxlength="1" onkeyup="nextInput('field_1')">
        </div>
        <button id="word_guess_try" onclick="checkTheWord()">></button>
        <div id="word_results"></div>
    </main>

    <footer>
        <hr>
        <button id="word_guess_rules" onclick="displayRules()">RULES</button>
        <div id="rules_section">
            <p>Guess the word in 6 tries or less.
                <br>Wrong guesses give clues about the correct word.
                <br>Letters that are in the right place, will turn green.
                <br>Letters that are in the word, but are in the wrong place, will turn yellow.
                <br>Letters that are not present in the word, will turn grey.
            </p>
        </div>
    </footer>
</body>

</html>